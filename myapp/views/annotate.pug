doctype html

html
    head
        title="SeedlingVision"
        meta(name="viewport" content="width=device-width, initial-scale=1")

        link(href='/plant_detection/stylesheets/main.css' rel='stylesheet')


        link(rel="stylesheet" href="/plant_detection/annotorious/annotorious.min.css")
        link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css")

        script(src="https://code.jquery.com/jquery-3.6.0.js")


        //link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@recogito/annotorious-openseadragon@2.7.0/dist/annotorious.min.css")

        
        //script(src="https://cdn.jsdelivr.net/npm/@recogito/annotorious-openseadragon@2.7.0/dist/openseadragon-annotorious.min.js")
        script(src="/plant_detection/osd/openseadragon.min.js")
        script(src="/plant_detection/annotorious/openseadragon-annotorious.min.js")

        //link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@recogito/annotorious-openseadragon@2.7.1/dist/annotorious.min.css")
        //script(type="text/javascript" src="https://cdn.jsdelivr.net/npm/@recogito/annotorious-openseadragon@2.7.1/dist/openseadragon-annotorious.min.js")



        script(type='text/javascript' src='/plant_detection/javascripts/annotate.js')
        script(type='text/javascript' src='/plant_detection/javascripts/common.js')

    body
        div(id="container")

            include ./header.pug

            div(id="help_modal" class="modal")
                div(class="modal-content")
                    div(class="modal-header")
                        span(class="close close-hover" id="help_modal_close") &times;
                        p Help
                    div(class="modal-body")

                        p(style="text-align: justify") Hold the <i>SHIFT</i> key and drag the mouse to create a new annotation.<br><br>Use the <i>DELETE</i> key to remove annotations.<br><br>Don't forget to save your work! 

                    div(class="modal-footer")



            div(id="body")
                    
                //h(class="header2" style="font-size:26px") Annotate
                //hr

                br
                br

                div(id="annotate_container" class="grid-container-1")

                    //
                        div(class="half-round-item-1" id="left_panel" style="height: 720px; overflow-y: auto;")



                            h(id="image_set_name" class="header2" style="font-size: 22px; text-align: center; white-space: pre-wrap; color: white")

                            div(class="scrollable_padded_area" style="height: 390px")
                                table(id="image_set_table")

                            hr


                            div(style="text-align: left")
                                button(id="save_button" class="table_button table_button_hover")

                                    i(id="save_icon" class="fa-solid fa-floppy-disk" style="padding-right: 8px; color: white")
                                    | Save All Changes


                                div(style="padding: 10px 10px; white-space: pre;") <strong>SHIFT + drag</strong>: create a new annotation.<br><strong>DELETE</strong>: remove an existing annotation.


                            


                    div(class="half-round-item-1")

                        table(class="transparent_table")
                            tr
                                td
                                    button(style="width: 100px" id="help_button" class="table_button table_button_hover")
                                        i(id="help_icon" class="fa-solid fa-circle-info" style="padding-right: 8px; color: white") 
                                        | Help

                                td(style="width:100%")
                                    h(id="image_set_name" class="header2" style="font-size: 22px; text-align: center; white-space: pre-wrap; color: white")


                        table(class="transparent_table")

                            tr
                                td(class="dark-bg" style="vertical-align:top")
                                    div(style="width: 280px;")

                                        table(class="transparent_table")
                                            tr

                                                td(style="text-align: left")
                                                    h(class="header2" style="text-align:left") Image: 
                                            
                                                td(style="width: 100%; text-align: left; padding-left: 12px")
                                                    h(id="image_name")


                                        
                                            tr
                                                td(style="text-align: left")
                                                    h(class="header2") Status:
                                                td(style="width:100%")
                                                    select(id="status_combo" class="nonfixed_dropdown")


                                        br
                                        hr
                                        br

                                        button(id="save_button" class="table_button table_button_hover")

                                            i(id="save_icon" class="fa-solid fa-floppy-disk" style="padding-right: 8px; color: white")
                                            |
                                            | Save All Changes

                                        br
                                        br

                                        h(class="header2" style="text-align:left") Image List:

                                        div(class="scrollable_area" style="height: 390px; border:none")
                                            table(id="image_set_table")


                                td(style="width: 100%" id="seadragon_viewer")
                                //    div(id="seadragon_viewer")


                        //-
                            tr

                                td
                                    div(style="width: 220px; text-align: left")
                                        h(class="header2" style="font-size: 26px;") Image: 
                                            span(id="image_name" style="color: white")
                                td(style="width: 100%")
                                td
                                    div(style="width: 150px; text-align: center")
                                        a(id="prev-button" class="table_button table_button_hover" style="border-radius: 50px; padding-left: 12px; padding-right: 12px; padding-top: 7px; padding-bottom: 3px; margin: 0px 10px;")
                                            i(class="fas fa-caret-left" aria-hidden="true" style="font-size: 26px")
                                        a(id="next-button" class="table_button table_button_hover" style="border-radius: 50px; padding-left: 12px; padding-right: 12px; padding-top: 7px; padding-bottom: 3px; margin: 0px 0px;")
                                            i(class="fas fa-caret-right" aria-hidden="true" style="font-size: 26px")

                            tr
                                td
                                    div(style="text-align: left")
                                        h(class="header2" style="font-size: 16px;") Status: 
                                            span(id="image_status" style="color: white") text

                                td
                                td






    script.
        let data = !{JSON.stringify(data)};